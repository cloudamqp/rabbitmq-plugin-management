<h1>Plugin: <b><%= fmt_string(plugin.name) %></b><%= fmt_maybe_vhost(plugin.vhost) %></h1>

<div class="section">
  <h2>Overview</h2>
  <div class="hider">
    <table class="facts">
      <tr>
        <th>Source</th>
        <td><%= fmt_string(plugin.value['src-uri']) %></td>
      </tr>
      <tr>
        <th> </th>
        <td><%= fmt_plugin_endpoint('src', plugin.value) %></td>
      </tr>
      <tr>
        <th>Destination</th>
        <td><%= fmt_string(plugin.value['dest-uri']) %></td>
      </tr>
      <tr>
        <th> </th>
        <td><%= fmt_plugin_endpoint('dest', plugin.value) %></td>
      </tr>
      <tr>
        <th>Prefetch count</th>
        <td><%= fmt_string(plugin.value['prefetch-count']) %></td>
      </tr>
      <tr>
        <th>Reconnect delay</th>
        <td><%= fmt_time(plugin.value['reconnect-delay'], 's') %></td>
      </tr>
      <tr>
        <th>Add headers</th>
        <td><%= fmt_boolean(plugin.value['add-forward-headers']) %></td>
      </tr>
      <tr>
        <th>Ack mode</th>
        <td><%= fmt_string(plugin.value['ack-mode']) %></td>
      </tr>
      <tr>
        <th>Auto-delete</th>
        <td><%= fmt_string(plugin.value['delete-after']) %></td>
      </tr>
    </table>
  </div>
</div>

<div class="section-hidden">
  <h2>Delete this plugin</h2>
  <div class="hider">
    <form action="#/plugin-parameters" method="delete" class="confirm">
      <input type="hidden" name="component" value="plugin"/>
      <input type="hidden" name="vhost" value="<%= fmt_string(plugin.vhost) %>"/>
      <input type="hidden" name="name" value="<%= fmt_string(plugin.name) %>"/>
      <input type="submit" value="Delete this plugin"/>
    </form>
  </div>
</div>
